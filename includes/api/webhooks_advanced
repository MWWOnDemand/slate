<p>A customer can provide a single URL to be called with a notifications when various events occur related to his/her orders. Also customers may opt-in/out to various order/order item events that fire notifications. This is an experimental feature and subject to change. For production applications we highly recommend querying for status via the order end point.</p>
<h2 id='create-a-web-hook'>Create a Web Hook</h2>
<p>This endpoint will submit a new Web hook record.</p>

<ul>
<li>Customers should only have one Web Hook.</li>
<li>The URL for a customer&#39;s webhook must be unique.</li>
</ul>

<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-i</span> <span class="nt">-X</span> POST https://api.mwwondemand.com/api/webhooks <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "data": {
      "type": "webhooks",
      "attributes": {
        "url": "https://your-server.com/order-notifications"
      }
    }
  }'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/vnd.api+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.api+json; version=1"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: auth-key=YOUR_API_KEY"</span>
</code></pre></div>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight plaintext"><code>HTTPS/1.1 201 Created
Content-Type: application/vnd.api+json
ETag: W/"a3c86d6fc9e44e75887b996cafc57b37"
Cache-Control: max-age=0, private, must-revalidate
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"503678086298993748"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhooks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-09T22:38:50.426Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-09T22:38:50.426Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-server.com/order-notifications"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"received"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shipped"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748/relationships/user"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748/user"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>User and URL must be unique, otherwise an 422 will be returned</p>
</blockquote>

<div class="highlight"><pre class="highlight plaintext"><code>HTTP/1.1 422 Unprocessable Entity
Content-Type: application/vnd.api+json
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"has already been taken"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user-id - has already been taken"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pointer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/data/attributes/user-id"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"422"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id='https-request'>HTTPS Request</h3>
<p><code>POST https://api.mwwondemand.com/api/webhooks</code></p>
<h3 id='post-parameters'>POST Parameters</h3>
<table><thead>
<tr>
<th>Attributes</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>data <br><em>object</em></td>
<td>The root element of your JSON post object.</td>
</tr>
<tr>
<td>type <br><em>string</em></td>
<td>Resource the object represents. This will always be &quot;webhooks&quot;.</td>
</tr>
<tr>
<td>attributes</td>
<td>object</td>
</tr>
<tr>
<td>url <br><em>string</em></td>
<td>The URL to receive callback notifications.</td>
</tr>
<tr>
<td>enabled <br><em>boolean</em></td>
<td>Pause notifications by setting false.</td>
</tr>
<tr>
<td>received <br><em>boolean</em></td>
<td>Fired when order is received.</td>
</tr>
<tr>
<td>designdownloaded<br><em>boolean</em></td>
<td>Fired after item design downloaded.</td>
</tr>
<tr>
<td>processed <br><em>boolean</em></td>
<td>Fired after processing complete for order/items.</td>
</tr>
<tr>
<td>shipped <br><em>boolean</em></td>
<td>Fired when an order/item ships.</td>
</tr>
<tr>
<td>cancelled <br><em>boolean</em></td>
<td>Fired when an order/item is cancelled.</td>
</tr>
<tr>
<td>printed <br><em>boolean</em></td>
<td>Fired after an item is printed.</td>
</tr>
<tr>
<td>pressed <br><em>boolean</em></td>
<td>Fired after an item is pressed.</td>
</tr>
<tr>
<td>cut <br><em>boolean</em></td>
<td>Fired after an item is cut.</td>
</tr>
<tr>
<td>sewn <br><em>boolean</em></td>
<td>Fired after an item is sewn.</td>
</tr>
<tr>
<td>turned <br><em>boolean</em></td>
<td>Fired after an item is turned.</td>
</tr>
<tr>
<td>packed <br><em>boolean</em></td>
<td>Fired after an item is packed.</td>
</tr>
</tbody></table>

<p><em>Note: This endpoint follows the <a href="http://jsonapi.org/format/1.0/">JSON API 1.0 Spec</a></em></p>
<h3 id='errors'>Errors</h3>
<ul>
<li>422 Unprocessable Entity</li>
</ul>

<table><thead>
<tr>
<th>Code</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>422</td>
<td>user-id</td>
<td>Customer can only have one Web hook</td>
</tr>
<tr>
<td>422</td>
<td>url</td>
<td>URL must be unique in the MWWOndemand system</td>
</tr>
</tbody></table>
<h2 id='show-web-hook-details'>Show Web Hook Details</h2>
<p>Shows Web hook attributes.</p>

<p><code>GET https://api.mwwondemand.com/api/webhooks</code></p>

<p>Or,</p>

<p><code>GET https://api.mwwondemand.com/api/webhooks/:id</code></p>

<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://api.mwwondemand.com/api/webhooks <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/vnd.api+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.api+json; version=1"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: auth-key=YOUR_API_KEY"</span>
</code></pre></div>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight plaintext"><code>HTTP/1.1 200 OK
Content-Type: application/vnd.api+json
ETag: W/"db50338caf58efd86513055a93bf1ebb"
Cache-Control: max-age=0, private, must-revalidate
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"503678086298993748"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhooks"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-09T22:38:50.426Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-09T23:35:18.364Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-server.com/mwwondemand-order-notifications"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"received"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shipped"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748/relationships/user"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748/user"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks?page%5Blimit%5D=10&amp;page%5Boffset%5D=0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks?page%5Blimit%5D=10&amp;page%5Boffset%5D=0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id='patch-web-hook-attributes'>Patch Web hook Attributes</h2>
<p>Update attributes, e.g. opt-in to receive notifications for additional events.</p>

<p><code>GET https://api.mwwondemand.com/api/webhooks/:id</code></p>

<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PATCH https://api.mwwondemand.com/api/webhooks/503678086298993748 <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/vnd.api+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.api+json; version=1"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: auth-key=YOUR_API_KEY"</span>
  <span class="nt">-d</span> <span class="s1">$'{
    "data": {
      "id": "503678086298993748",
      "type": "webhooks",
      "attributes": {
        "url": "https://your-server.com/mwwondemand-order-notifications",
        "enabled": true,
        "shipped": true
      }
    }
  }'</span>

</code></pre></div>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight plaintext"><code>HTTP/1.1 200 OK
Content-Type: application/vnd.api+json
ETag: W/"79fb5347c319c693f6d89ca82dc43e78"
Cache-Control: max-age=0, private, must-revalidate
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"503678086298993748"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhooks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-09T22:38:50.426Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-09T23:35:18.364Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-server.com/mwwondemand-order-notifications"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"received"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shipped"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748/relationships/user"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"related"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.mwwondemand.com/api/webhooks/503678086298993748/user"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id='delete-web-hook'>Delete Web Hook</h2>
<p>Remove customer Web hook.</p>

<p><code>GET https://api.mwwondemand.com/api/webhooks/:id</code></p>

<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> DELETE https://api.mwwondemand.com/api/webhooks/503678086298993748 <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/vnd.api+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.api+json; version=1"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: auth-key=YOUR_API_KEY"</span>
</code></pre></div>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<div class="highlight"><pre class="highlight plaintext"><code>HTTP/1.1 204 No Content
Cache-Control: no-cache
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code></code></pre></div>
